# 单词记忆 SRS v1.0 - 科学、高效、个性化

这是一个基于艾宾浩斯遗忘曲线和 SM-2 算法的**智能英语单词记忆系统**。本工具旨在通过科学的间隔重复（Spaced Repetition System, SRS）帮助用户更高效、更牢固地记忆英语单词及其用法。

**软件截图(支持桌面和手机端):**
![PixPin_2025-05-04_22-37-36](https://github.com/user-attachments/assets/469f63cc-0625-46d7-8353-0303bb17d9a0)

![Screenshot_20250504_224404_Edge](https://github.com/user-attachments/assets/be32be91-5807-425f-b92d-159b6b31b9bf)



## 目录

1.  [功能特点](#功能特点)
2.  [安装指南](#安装指南)
3.  [使用说明](#使用说明)
4.  [核心概念](#核心概念)
5.  [SRS 复习](#srs-复习)
6.  [随机测试](#随机测试)
7.  [随便看看](#随便看看)
8.  [数据管理](#数据管理)
9.  [学习历史](#学习历史)
10. [常见问题](#常见问题)
11. [注意事项](#注意事项)
12. [声明](#声明)
13. [开源许可](#开源许可)
14. [开发者的话](#开发者的话)

## 功能特点

*   **科学记忆算法:** 内置基于 SM-2 改进的 SRS 算法，智能安排复习计划，优化记忆效率。
*   **丰富内容管理:** 支持添加单词、音标、词源、近义词、多条词性释义、搭配/例句、发音链接。
*   **标签化管理:** 可为单词添加多个标签（如“高考词汇”、“Unit 1”、“动词”），方便分类、筛选和管理。
*   **多种复习模式:**
    *   **到期复习:** 仅复习当天或之前到期的单词。
    *   **难词复习:** 优先复习累计错误次数较多的单词。
*   **灵活测试模式:**
    *   **看词回忆:** 显示单词，回忆后查看答案，自我判断对错。
    *   **互动问答:** 看词写义，或看释义、搭配填空。
    *   **列表回忆:** 随机抽取单词列表，隐藏英文或中文，逐个核对。
*   **定制化测试范围:** 可选择测试全部单词，或根据标签筛选特定范围。
*   **漫游模式:** 随机展示单词或搭配，用于无压力的浏览和巩固。同样支持按标签筛选。
*   **学习统计:** 仪表盘直观展示总词汇量、待复习数、易错词数、掌握程度分布（新/学习/巩固/熟练）。
*   **学习历史:** 记录每次复习和测试的详细结果（模式、范围、用时、正确率等）。
*   **数据导入导出:** 支持通过 CSV 文件批量导入和导出单词数据，方便与其他工具或资料整合。
*   **易错词列表:** 快速定位并复习经常记错的单词。
*   **跨平台:** 基于 Python 和 Flask，可在 Windows, macOS, Linux 等系统运行。

## 安装指南

### 1. 安装 Python

确保你的系统已安装 Python 3.8 或更高版本，并在安装时勾选 "Add Python to PATH"。访问 [Python 官网](https://www.python.org/downloads/) 下载。

### 2. 下载项目

*   **方式一 (Git):** 如果你安装了 Git，在终端运行：
    ```bash
    git clone https://github.com/YourUsername/english-srs-flask.git # <-- 替换为你的仓库地址
    cd english-srs-flask
    ```
*   **方式二 (下载 ZIP):** 在 GitHub 仓库页面点击 "Code" -> "Download ZIP"，然后解压到你想要的位置。

### 3. 安装依赖库

**自动安装:直接双击.bat文件即可**

**手动安装:本程序主要依赖 Flask 及相关库。**

1.  打开命令提示符 (CMD) 或终端。
2.  **（强烈推荐）创建并激活虚拟环境:**
    *   在项目根目录运行：`python -m venv venv`
    *   激活环境：
        *   Windows CMD: `venv\Scripts\activate`
        *   Windows PowerShell: `.\venv\Scripts\Activate.ps1`
        *   macOS/Linux/Git Bash: `source venv/bin/activate`
    *   成功激活后，命令行前面会出现 `(venv)` 字样。
3.  **安装依赖:** 进入程序 **根目录** (包含 `requirements.txt` 的目录)，运行以下命令（使用清华镜像加速下载）：
    ```bash
    pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple
    ```
    如果在海外，可以去掉 `-i ...` 部分：
    ```bash
    pip install -r requirements.txt
    ```
    等待所有库安装完成。

## 使用说明

1.  **初始化数据库 (首次运行或更新后):**
    *   确保虚拟环境已激活。
    *   在项目根目录运行：
        ```bash
        flask init-db
        ```
    *   **警告:** 此操作会清空现有数据（如果有）。
2.  **启动程序:**
    *   确保虚拟环境已激活。
    *   在项目根目录运行：
        ```bash
        flask run --host=0.0.0.0
        ```
        (`--host=0.0.0.0` 允许局域网访问，如果只在本机使用可以省略)
    *   或者，直接双击运行项目根目录下的 `一键启动.bat` (Windows)。
3.  **访问应用:** 打开浏览器，访问 `http://127.0.0.1:5000` (一键启动可以自动跳转)。
4.  **主要操作:**
    *   **仪表盘:** 查看统计信息，快速开始复习或测试。
    *   **单词管理:** 添加、编辑、删除单词，查看列表，导入/导出 CSV。
    *   **SRS 复习:** 选择“到期复习”或“难词复习”开始。根据提示操作，评价掌握程度。
    *   **单词测试:** 进入设置页面，选择测试模式、范围（标签）、数量，开始测试。
    *   **随便看看:** 进入设置页面，选择漫游模式（单词/搭配）、范围（标签），开始浏览。
    *   **学习历史:** 查看过去的复习和测试记录。

## 核心概念

*   **Concept (概念/单词):** 系统中记忆的基本单位，包含 `term` (核心词)、音标、释义、搭配等。
*   **Meaning (含义):** 一个 Concept 可以有多个词性和对应的释义。
*   **Collocation (搭配):** 与 Concept 相关的常用短语或例句。
*   **Tag (标签):** 用于给 Concept 分类，方便管理和筛选。
*   **SRS (Spaced Repetition System):** 间隔重复系统，根据你对单词的掌握程度（评价）来动态调整下次复习的时间。

## SRS 复习

*   系统根据 SRS 算法计算每个单词的到期时间 (`srs_due_date`)。
*   **到期复习:** 优先复习 `srs_due_date` 早于或等于当前时间的单词。
*   **难词复习:** 优先复习 `error_count`（错误次数）较高的单词。
*   复习时，你需要回忆单词含义，然后点击“显示答案”。
*   根据你的回忆情况，选择 **忘记(1)、困难(2)、良好(3)、轻松(4)** 四个等级进行评价。
*   系统会根据你的评价更新该单词的 `srs_interval` (下次复习间隔天数), `srs_efactor` (影响间隔增长的因子), `srs_due_date` 和 `error_count`。
    *   评价为“忘记”或“困难”会增加错误次数，并缩短复习间隔。
    *   评价为“良好”或“轻松”会根据当前间隔和因子计算新的、更长的间隔。

## 随机测试

提供三种测试模式，结果**不影响** SRS 复习计划，仅用于自我检验和记录历史：

1.  **模式一 (看词回忆):** 看到单词和音标，自行回忆，然后查看答案（释义、搭配等），最后判断自己是否答对。
2.  **模式二 (互动问答):**
    *   **单词释义:** 看到单词和音标，输入你认为的释义，然后对照答案判断对错。
    *   **搭配填空:** 看到单词的释义，以及一个挖掉了该单词的搭配/例句，输入空缺的单词，然后对照答案判断对错。
    *   **混合:** 随机进行以上两种问答。
3.  **模式三 (列表回忆):**
    *   一次性展示所选范围内的单词列表。
    *   **挖空英文:** 列表显示中文释义，点击可查看对应的英文单词和音标。
    *   **挖空中文:** 列表显示英文单词和音标，点击可查看对应的中文释义。
    *   你需要逐行点击查看答案，并标记该行是“对”还是“错”。全部标记后提交结果。

所有测试模式都支持**按标签筛选**测试范围和**指定测试数量**。

## 随便看看

一个轻松的浏览模式，用于无压力的学习和巩固：

*   **设置:** 进入“随便看看”设置页面。
*   **模式选择:** 选择“漫游单词”或“漫游搭配”。
*   **范围选择:** 选择“所有”或按特定“标签”筛选。
*   **开始漫游:** 点击按钮后，系统会随机展示符合条件的单词或搭配。
*   **导航:** 点击“下一个”继续随机浏览。

## 数据管理

*   **添加/编辑:** 通过“单词管理”菜单进行。支持所有字段，包括动态添加多个含义和搭配。
*   **删除:** 在“单词管理”列表视图中操作。删除单词会**同时删除**其关联的所有含义和搭配。
*   **导入:** 支持从特定格式的 CSV 文件批量导入新单词。**不会**覆盖已存在的单词（根据 `term` 判断）。
*   **导出:** 将当前数据库中所有单词、含义、搭配、标签等信息导出为 CSV 文件，方便备份或在其他工具中使用。

## 学习历史

*   记录每次完成的 **SRS 复习** 和 **随机测试** 会话。
*   显示会话类型、模式、范围（标签）、开始时间、用时、总项目数、正确数、错误数、跳过数（测试中加载失败）、准确率。
*   支持按会话类型和标签筛选历史记录。
*   提供分页浏览。

## 常见问题

1.  **Q: 启动后无法访问 `http://127.0.0.1:5000`?**
    A: 确保 Flask 服务已成功启动且没有报错。检查端口是否被占用。
2.  **Q: 局域网手机无法访问?**
    A: 确认电脑 IP 地址正确，手机和电脑在同一 Wi-Fi 下。检查电脑防火墙是否允许端口 5000 (或 Flask 运行端口) 的入站连接。
3.  **Q: 导入 CSV 文件失败或乱码?**
    A: 确保 CSV 文件使用 **UTF-8 (推荐)** 或 GBK 编码。检查 CSV 格式是否符合 [数据管理](#数据管理) 部分说明，特别是第一行必须是列标题，`term` 列必须存在。
4.  **Q: 复习/测试时卡住了或无法进入下一题?**
    A: 尝试刷新页面。如果问题持续，检查浏览器控制台 (F12) 和 Flask 后台日志是否有错误信息。可能是 Session 数据损坏，尝试退出会话（如果按钮可用）或清除浏览器 Cookie 后重试。
5.  **Q: 掌握程度分布图不显示?**
    A: 确保 `/api/mastery-data` 接口能正常返回数据。可能是数据库查询出错或没有单词数据。

## 注意事项

*   开发服务器 (`flask run`) 不适合生产环境，仅供本地或局域网个人使用。
*   定期使用“导出 CSV”功能备份你的单词数据。
*   `flask init-db` 会清空所有数据，请谨慎操作。
*   请遵守相关版权法律，导入或添加的发音链接、例句等内容需注意来源。

## 声明

本工具主要作为个人学习和实践项目。

*   核心 SRS 算法参考 SM-2。
*   UI 基于 Bootstrap 5。
*   部分交互实现借助 AI 辅助编码。

## 开源许可

本项目代码基于GPL3.0许可证开源。详情请参阅项目中的 `LICENSE` 文件。

## 开发者的话

做这个项目的初衷是为了结合自己学习英语的需求和对编程的兴趣。希望能通过 SRS 算法，让背单词这件事变得更科学、更持久一点。从简单的 CRUD 到实现 SRS 逻辑、多种测试模式和历史记录，一步步迭代下来也学到了不少东西。

代码肯定还有很多可以优化的地方，功能也可能不够完善，欢迎大家提出宝贵的意见和建议！

--笑颜
